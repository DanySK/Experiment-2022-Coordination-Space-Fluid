module org:protelis:tutorial:leader2

import protelis:coord:spreading
import protelis:lang:utils
import org:protelis:tutorial:leader

let myNeighbors = foldSum(nbr(1))
let valueLocal = env.get("layer")
localLeaderElectionWithGradient(
    valueLocal,
	env.get("grain")
) {
    abs(valueLocal - nbr(valueLocal))
}
